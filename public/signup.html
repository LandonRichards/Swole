<!DOCTYPE html>
<html>

<head>
    <title>Sign up here!</title>
</head>
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="style.css">
<script src="https://code.jquery.com/jquery.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

<body>
    <div class="jumbotron jumbotron-fluid">
        <div class="container">
            <h1 class="display-4">Sign up to get Swole!</h1>
        </div>
    </div>
    <form id="build-user">
        <div class="container">
            <div class="form-group">
                <label for="FirstName">First Name</label>
                <input type="text" class="form-control" id="firstName" aria-describedby="firstNameHelp" placeholder="Enter First Name">
            </div>
            <div class="form-group">
                <label for="LastName">Last Name</label>
                <input type="text" class="form-control" id="lastName" aria-describedby="lastNameHelp" placeholder="Enter Last Name">
            </div>
            <div class="form-group">
                <label for="exampleInputEmail1">Email address</label>
                <input type="email" class="form-control" id="email" aria-describedby="emailHelp" placeholder="Enter email">
                <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>
            </div>
            <div class="form-group">
                <label for="UserName">Pick a User Name</label>
                <input type="text" class="form-control" id="userName" aria-describedby="userNameHelp" placeholder="Enter User Name">
            </div>
            <div class="form-group">
                <label for="Password">Pick a Password</label>
                <input type="password" class="form-control" id="Password" placeholder="Password">
            </div>
            <button type="submit" class="btn btn-primary">Submit</button>
    </form>
    </div>
</body>
<script type="text/javascript">
$(document).ready(function() {
    // Getting references to the name inout and author container, as well as the table body
    $("#build-user").on('submit', function() {

        var firstName = $("#firstName").val().trim();
        var lastName = $("#lastName").val().trim();
        var emailAddress = $("#email").val().trim();
        var userName = $("#userName").val().trim();
        var password = $("#Password").val().trim();

        var newUser = {
            firstName: firstName,
            lastName: lastName,
            emailAddress: emailAddress,
            userName: userName,
            password: password,
        };

        $.post("/api/user/", newUser,function(){
            alert('You are one step closer to gettin\' SWOLE')
            window.location.href = "/homepage";
        });
    })

    // var authorList = $("tbody");
    // var authorContainer = $(".author-container");
    // Adding event listeners to the form to create a new object, and the button to delete
    // an Author
//     $(document).on("submit", "#swoleform", handleSwoleFormSubmit);
//     $(document).on("click", ".delete-author", handleDeleteButtonPress);
//     // Getting the intiial list of Authors
//     getSwoleBuddies();
//     // A function to handle what happens when the form is submitted to create a new Author
//     function handleSwoleFormSubmit(event) {
//         event.preventDefault();
//         // Don't do anything if the name fields hasn't been filled out
//         if (!firstName.val().trim().trim()) {
//             return;
//         }
//         // Calling the upsertAuthor function and passing in the value of the name input
//         // addSwoleBuddy({
//         //   firstName: firstName
//         //   lastName: lastName
//         //   emailAddress: emailAddress
//         //   userName: userName
//         //   password: password
//         //     .val()
//         //     .trim()
//         // });
//     }
//     // A function for creating an author. Calls getAuthors upon completion
//     // function addSwoleBuddy(swoleData) {
//     //   $.post("/api/authors", swoleData)
//     //     .then(swoleData);
//     // }
//     // Function for creating a new list row for authors
//     //   function createAuthorRow(swoleData) {
//     //     var newTr = $("<tr>");
//     //     newTr.data("author", swoleData);
//     //     newTr.append("<td>" + swoleData.name + "</td>");
//     //     return newTr;
//     //   }
//     // //   // Function for retrieving authors and getting them ready to be rendered to the page
//     //   function getAuthors() {
//     //     $.get("/api/authors", function(data) {
//     //       renderAuthorList(data.map(x => createAuthorRow(x))) //this .map takes the value x and then runs renderauthorlist
//     //       nameInput.val(""); // empties the search bar our
//     //     });
//     //   }
//     // //   // A function for rendering the list of authors to the page
//     //   function renderAuthorList(rows) {
//     //     authorList.children().not(":last").remove();
//     //     authorContainer.children(".alert").remove();
//     //     if (rows.length) {
//     //       console.log(rows);
//     //       authorList.prepend(rows);
//     //     }
//     //     else {
//     //       renderEmpty();
//     //     }
//     //   }
//     // Function for handling what to render when there are no authors
//     function renderEmpty() {
//         var alertDiv = $("<div>");
//         alertDiv.addClass("alert alert-danger");
//         alertDiv.text("You must create an Swole buddy before you can create a Post.");
//         authorContainer.append(alertDiv);
//     }
//     // Function for handling what happens when the delete button is pressed
//     function handleDeleteButtonPress() {
//         var listItemData = $(this).parent("td").parent("tr").data("author");
//         var id = listItemData.id;
//         $.ajax({
//                 method: "DELETE",
//                 url: "/api/swoleData/" + id
//             })
//             .then(getSwoleBuddies);
//     }
});
</script>

</html>